{% extends "bootstrap/base.html" %}
{% import "_util.html" as util %}

{% block metas %}
{{ super() }}
<meta charset="utf-8"/>
{% endblock %}

{% block static %}
{{ super() }}
<!-- Main Css stylesheet for pages-->
<link rel="stylesheet" href="{{ url_for('static', filename='theme.css') }}" />
{% endblock %}

{% block body -%}
  {% block navbar %}
  <nav class="navbar navbar-default">
    <div class="container-fluid">
      <!-- Brand and toggle get grouped for better mobile display -->
      <div class="navbar-header">
	<button type="button"
		class="navbar-toggle collapsed"
		data-toggle="collapse"
		data-target="#bs-example-navbar-collapse-1"
		aria-expanded="false">
	</button>
	<a class="navbar-brand" href="{{ url_for('front_page') }}">
	  <img src="{{ url_for('send_static',path='shriver.jpeg') }}"
	       width="50"
	       height="50"
	       class="img-fluid"
	       alt="Shriver Center Logo">
	</a>
      </div>

      <!-- Collect the nav links, forms, and other content for toggling -->
      <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
	<ul class="nav navbar-nav">
	  <li><a href="{{ url_for('front_page') }}" >Home</a></li>
	  <li><a href="{{ url_for('calendar_page') }}">Calendar</a></li>
	  <li><a href="#"><span onclick="openNav()">Assignments</span></a></li>
	  <li><a href="{{ url_for('announcement_page') }}">Announcements</a></li>
	</ul>


	<div class="nav navbar-nav navbar-right" onclick="closeNav()">
	  <ul class="nav navbar-nav">
	    <!-- Links for the admin only -->
	    {% if current_user.is_authenticated and current_user.admin %}
	    <li><a href="{{ url_for('syllabus_page') }}">Syllabus</a></li>
	    <li><a href="{{ url_for('edit_accounts_page') }}">Edit Accounts</a></li>
	    <li><a href="{{ url_for('edit_announcement_page') }}">New Announcement</a></li>
	    {% endif %}
	    <!-- -->

	    <!-- Links for any authenticated user -->
	    {% if current_user.is_authenticated %}
	    <li><a href="{{ url_for("account_settings_page", user_id=current_user.id, user=current_user) }}">Account Settings</a></li>
	    {% endif %}
	    <!-- -->

	    <!-- Log in/out -->
	    <li>
	      {% if not current_user.is_authenticated %}
	      <a href="{{ url_for('login_page', returnto=request.base_url) }}">Log In</a>
	      {% else %}
	      <a href="{{ url_for('logout_page') }}">Log Out</a>
	      {% endif %}
	    </li>
	    <!-- -->
	  </ul>
	  <a class="navbar-brand" href="{{ url_for('front_page') }}"> <img src="{{ url_for('send_static',path='cj.jpg') }}"
								    width="50" height="50"  class="img-fluid" alt="Responsive image"> </a>
	</div>


      </div><!-- /.navbar-collapse -->
    </div><!-- /.container-fluid -->
  </nav>
  {% endblock %}

  {% block sidenav %}
  <div id="mySidenav" class="sidenav">
    <a href="javascript:void(0)" class="closebtn" onclick="closeNav()">&times;</a>
    {% for n in range(1, 13) %}
    <a href="{{ url_for('week_page', week_number=n) }}">Week {{n}}</a>
    {% endfor %}
  </div>
  {%- endblock sidenav %}

  <div class="container" onclick="closeNav();">
    {% block messages %}
      {% for flask_alert in get_flashed_messages(with_categories=True) %}
      {{util.alert(flask_alert)}}
      {% endfor %}
    {% endblock messages %}
    {% block content -%}
    {%- endblock content %}
  </div>

  <footer class="footer"  onclick="closeNav()">
    <div class="container">
      {% block footer %}
      <p class="text-muted">
	{{ config.VERSION }}
      </p>
      {% endblock %}
    </div>
  </footer>

  {% block scripts %}
  {{ super() }}
  <script>
  $("#menu-toggle").click(function(e) {
    e.preventDefault();
    $("#wrapper").toggleClass("active");
  });
  </script>
  {% endblock scripts %}
{%- endblock body %}
